本章我们介绍集合单子程序上的霍尔逻辑。

在集合单子上，霍尔三元组 $\{ P \} c \{ Q \}$ 会退化为霍尔二元组 $\text{Hoare}(c, Q)$，具体定义为：
$$
\text{Hoare}(c, Q) \triangleq \forall a, ~ a \in c \to Q(a)
$$

由于集合单子表示“非确定性计算”，$c$ 是所有可能结果的集合。这个定义的意思是：
> 计算 $c$ 产生的所有可能结果 $a$ 都必须满足性质 $Q$。

问题来了：为什么在集合单子上，霍尔三元组会退化为不需要前条件的霍尔二元组？

让我们回顾一下集合单子的定义：
$$
M(A) \triangleq \mathcal{P}(A)
$$
对于一个计算 $c \in M(A)$，它的含义其实就是 $c \in \mathcal{P}(A)$，也就是说，$c$ 是一个集合，且其中的所有元素都是类别 $A$。或者，更直白地说，$c$ 就是集合 $A$ 的一个子集。

所以说，对于集合单子，其中的一个计算 $c$（或者说，一个程序 $c$）本身就代表了所有可能的计算结果的集合。这个集合是静态存在的，不依赖于当前内存里面存了什么，因此它不需要一个输入的状态，所以描述初始状态的前条件也就失去了意义，可以被舍弃。